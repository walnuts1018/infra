apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
    name: nextcloud
spec:
    data:
        - remoteRef:
            key: nextcloud
            property: admin_password
          secretKey: admin-password
        - remoteRef:
            key: nextcloud
            property: admin_username
          secretKey: admin-username
        - remoteRef:
            key: postgres_passwords
            property: nextcloud
          secretKey: postgres-password
        - remoteRef:
            key: nextcloud
            property: postgres_username
          secretKey: postgres-username
        - remoteRef:
            key: redis
            property: password
          secretKey: redis-password
        - remoteRef:
            key: gmail
            property: password
          secretKey: smtp-password
    refreshInterval: 1m
    secretStoreRef:
        kind: ClusterSecretStore
        name: onepassword
    target:
        name: nextcloud

---
