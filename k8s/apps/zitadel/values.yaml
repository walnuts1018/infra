zitadel:
  configmapConfig:
    Log:
      Level: debug
      Formatter:
        Format: json
    Tracing:
      Type: otel
      Endpoint: default-collector.opentelemetry-collector.svc.cluster.local:4317
    ExternalDomain: auth.walnuts.dev
    TLS:
      Enabled: false
    ExternalPort: 443
    ExternalSecure: true
  masterkeySecretName: "zitadel"
  configSecretName: zitadel
  configSecretKey: "config.yaml"
replicaCount: 2
ingress:
  enabled: true
  className: "cilium"
  annotations:
    cert-manager.io/cluster-issuer: 'letsencrypt-prod'
  hosts:
  - host: auth.walnuts.dev
    paths:
    - path: /
      pathType: Prefix
  tls:
  - secretName: zitadel-tls
    hosts:
    - auth.walnuts.dev
metrics:
  enabled: true
  serviceMonitor:
    enabled: true
resources:
  requests:
    cpu: 5m
    memory: 100Mi
  limits:
    memory: 512Mi
affinity:
  nodeAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
    - weight: 100
      preference:
        matchExpressions:
        - key: kubernetes.io/arch
          operator: In
          values:
          - amd64
    - weight: 10
      preference:
        matchExpressions:
        - key: kubernetes.io/hostname
          operator: NotIn
          values:
          - donut
