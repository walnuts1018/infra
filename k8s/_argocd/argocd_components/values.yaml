global:
  domain: argocd.walnuts.dev
  logging:
    format: json
    level: info

configs:
  cm:
    admin.enabled: true
    statusbadge.enabled: true

    # https://docs.cilium.io/en/latest/configuration/argocd-issues/
    resource.exclusions: |
      - apiGroups:
        - cilium.io
        kinds:
        - CiliumIdentity
        clusters:
        - "*"
    dex.config: |
      connectors:
      - type: oidc
        id: walnuts-dev
        name: walnuts-dev
        config:
          clientID: "291851981864108044"
          clientSecret: $argocd-oidc:client-secret
          issuer: https://auth.walnuts.dev
          scopes:
          - openid
          - email
          - profile
          - urn:zitadel:iam:org:projects:roles
  params:
    otlp.address: 'default-collector.opentelemetry-collector.svc.cluster.local:4317'
    server.insecure: true
    server.basehref: /

server:
  ingress:
    enabled: true
    controller: generic
    ingressClassName: "nginx"
    tls: false
